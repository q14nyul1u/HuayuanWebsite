---
import {getCurrentLanguage, useTranslations, getLocalizedUrl, getPathName} from "~/i18n/index.js";
import {Picture} from "astro:assets";
import Section from "./Section.astro";
import Heading from "./Heading.astro";
import FormContact from "./forms/FormContact.astro";

import DummyQR from "~/assets/images/dummy_QR.png";

const pathname = getPathName(Astro.url.pathname);
const currentLang = getCurrentLanguage(pathname);
const t = useTranslations(currentLang);

// Variablen, die die Ã¼bersetzten Texte enthalten
const translatedTitle = t("contact.title");
const translatedText = t("contact.text");
const translatedWeChat = t("contact.wechat");
---
<Section>
    <Heading>
        <h2 slot="heading-title" class="font-black text-brand-blue h2">
            {translatedTitle}
        </h2>
    </Heading>

    <div class="prose max-w-none order-2">
        <div class="max-w-sm sm:max-w-xl md:max-w-md lg:max-w-lg mx-auto">
            <p class="text-center"><b>{translatedText}</b></p>
        </div>

        <div class="flex justify-center gap-x-8 mt-4">
            <figure class="w-24 lg:w-32">
                <Picture
                        class:list={"w-full"}
                        src={DummyQR}
                        height={600}
                        formats={["avif", "webp"]}
                        alt="A description of my image."
                />
                <figcaption class="text-center text-base text-gray-600 mt-2">
                    <b>{translatedWeChat}</b>
                </figcaption>
            </figure>
        </div>
    </div>
    <FormContact/>
</Section>